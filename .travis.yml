dist: xenial
env:
  global:
    secure: 1uJjlD2k42UUG6eq1L9ePErrWkF4wluN9WD/OOtYEOoLKOOY44C1QA1022oGIrEZH2Xw0nHBfqek4pkINO1TxMBvOJvjyOVKbp2k1tW9jiXDCO2uSurId3FSzK5baD+Rmrd/kt5fdDovotAGcVf7WRPUpE8GVnUiogbyvxXMd7IgT0QeIpomxci5byTGN48KU4cLDh+36vcia2dDV24UUaVRJqtZVuQ3r3i2PMEgZ9fd/cOfNTFoUYDBKESVRKAlk9PIkKHFbu04RR8utmm6E/XLS4UvVSpq0qp/wegKVTgr+MRdmsDgY7bUPZfInNLifquERZBE8y9BkcYQl1fvowjYomsJSXPYVEogsm8OgVGYY1thDP/ujRodLOyj74104LxcOyctvtOanpc/GPDSoG20xi/hiXxnS35naLFjEYTkI6zfVYoVWOSczvsc/lVmy/cVHpvOeK1gIQx/8/lOEXUSoG5khMLyIArE4iTiWDYAdpx82oK9QIDVO0PoGTYyoRX8YjU+7WKrwgCUj/VNo8s9LeIPWbUkdauenFKqC631QR6ivgZQz0+I2M5q4iSXs9B+rHtCoLCXA4gbifBwWEpgLI5GKBjdWLCB4SEADPOSBvMh/V+1D4WlZqbfXQHv1EqeOwyU39/+lZys21GYxODA9PElzJIyqlb1kW/7Ey4=
language: python
python:
- '3.7'
install:
- cp contrib/env-sample .env
- pip install -r requirements.txt
- pip install coverage
before_script:
- python manage.py migrate --noinput
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
script:
- coverage run manage.py test
after_script:
- coverage xml
- "./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT"
