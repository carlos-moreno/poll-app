dist: xenial
env:
  global:
    secure: cxLEwL8eqZJwmKt0ue+wKj7Z27Rj9e4+WTKOkiVDH5RTYb5ON8NBd59atztJFijBWme2NJctpv51iu3r4JVgBAYMDxvGPKeO4P2NOOuf4BK6hffqM3KfcSSWF+dE92ycsFYX6AuajgmovaTQxDDnrtda4BPb22DejeGgpAAcBnUM/X44tWIWWE8ZowUvWfxh/d2MUZ+MXTKK0XCjhj9IkwH3AzmFbneMbE9pZFTZmzrQonwT8Xe2YgFSn7laabnxBJqIWWXkmou8NVs+wwlg5zyw3OWMwpoYS1zlQBFzKimP4lybD0g1tBLH0zZcq+6mg7ONWVbuy/Xw7KXLT7bTijKDmhXCm+UyOzJfDNpMD85IEkAaBbUvttfncBCY4VpfZYLGjJWBCljEUmkYmVW7L4hCny3TinCDYb5nJZzNPaPCSCx0hUc+Hr3ogFuxlIkhoeOSeEi3/z7ue1DIH3+TgapueCzGABhukpPVORmqAdghYgauPo4cZLGm+FnSi+FiNjmN2Bxv2y5CHDmdGZj/fsYMxxQsWsnwMNKmw/X3qvQquSzi3eww+YKnu1kG0n4NYWxdB+LMKB54nIISPfREffyr0aUIlndS0PwFptY93JctGYhwLvATK1yXlmK3HoUzX5H+ZVW3mte/XquB7GnrFDW+BiB+47PN7cDImP+Euo4=
language: python
python:
- '3.7'
install:
- cp contrib/env-sample .env
- pip install -r requirements.txt
- pip install coverage
before_script:
- python manage.py migrate --noinput
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
script:
- coverage run manage.py test
after_script:
- coverage xml
- "./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT"
