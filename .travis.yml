dist: xenial
env:
  global:
    secure: w0v3kTlll9Jizn1S+zoRiDKUeENog9/XouISTSEMg9MI8f9c9ejgWXLw/8iJLrzQT3bzG6B0L13e1lT7WDn699cIYNjQYbOyAKgPXZIE62+qSDZOePuI0acJMrkPZUK/MBAx3N9K5JDjUBgtyvojXj/xJLXVhGqWgZkxB5dEt78Gxb37cU6Go+6uc5zJSK5PM4YeUw9Ya+h/Tnir3nk6KbxWwWvsiqf4EkQiuK7+Cmro0cariUGSnKCj4HbitV8r6wte/xjNiaaxCwPCyzctsAi15+yl0AKJ2YylfkbOm1C31pHqvCFfYt8Xa3Z/eLmlmFGj8KKtL7KJ+3VWvdbGTU4xf9gsf3O/omAoIrpMkiJG/j1lQMfynEC7yVuWOhRSmrWrBqABJ1LvNjtuRm1abo2sFwkn8oL3OmESCrRyI0DeGk3C+N4LYmo5nnsI8FhGC6qYHgQceHCHHE96EneoxJmLT0tex0dZdCT+hIR7Put6/OsDpcSn5NO5vZK0Bg6wb0dEsGgxGwmnZcdYETKev7ydSQ90mfSl2oaYtCKaLZOuM4P58EIYY5PbegGhZ4cveo5/DIh/Cl46Y4HQ2wg0hoAnQdsfIy09qrfZGLzSQXE2MsfZrFBfEL1Rfj96eZfnRXJkMYBsdmuW3pHBu/wc1nKVLYfhYRj5EyO+9ju06Zg=
language: python
python:
- '3.7'
install:
- cp contrib/env-sample .env
- pip install -r requirements.txt
- pip install coverage
before_script:
- python manage.py migrate --noinput
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
script:
- coverage run manage.py test
after_script:
- coverage xml
- "./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT"
