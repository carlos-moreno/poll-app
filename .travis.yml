dist: xenial
env:
  global:
    secure: RQ2Xtcbt4sVLo4S/rl4BkcuK2hd+gd4ZfPV4fbXhbPh++EHlr80hOhxByiCYy1dOxlUQAGE0lE7ABTG4Mw3NxdCE2DrnHPU//W/fkkwhvQ4uXupz2SsVEmvXsr/iJtt8bbmoAMQdAdb0ZnUIXhF/ki9g2d0COWjbO4yd9+CnqC5Ttqcdc/5tDV+fO5tO1mZqImpjYwBTwA9CLRvViLUfouyMrDDJkSpPORe7J2tI3tnBzS8d5s1rVnBXd9nPJnIM5E6o2hqmoNn0i6Cy4LIM+PYPfcdCIyhF9dTdMblmxqfdeaQUvfl5V3+4c8MnFqDqM+rUqwV8+oLX6j5wfxD+S0yNfEekuAT9E4cxcorHxtUabIk9NzanYzDDqp0lALMvto3sw54KxsqZMO3Q3K0O9ZRGA3++9cj9do945OmzZdPt14hLRDOB61ma05JLPyjWXi/WGQliBvL/B3E9yCYnuZ49wwtwcgH4MgTZreIm+Lch0VieJuJHAlsfK1AcY4ZzJDCKzFANl0MXxIyqD9QmYQRisgjrnRwx+/TJ4zr0tVtBdcXIshbI/h7/m3GvxtNvUol0EyIp3mBMS3K7hWljh/g+m7VtUbDfl2MrI/hIgVRkqQNk8/W1Hu0xYEyVApjKW09BSCr8UfS2aYO8y2jF6GUNRtbQYiAE5/XL35bmw9A=
language: python
python:
- '3.7'
install:
- cp contrib/env-sample .env
- pip install -r requirements.txt
- pip install coverage
before_script:
- python manage.py migrate --noinput
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
script:
- coverage run manage.py test
after_script:
- coverage xml
- "./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT"
