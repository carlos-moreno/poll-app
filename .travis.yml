dist: xenial
env:
  global:
    secure: seeh67cs7njp/dOScd7YK38DyR88SpUb2qyhDKW3xHdQ5e5NiXGOhQZv4XN7djOPTeS57x2pkw9/W5ZIDsz4ku6l3S/Xk5eElKtJ3z17oBFu7WFwV8A0NZa/pxeJAeXGgKjnyyivfb9t2BNA32NeZXzVjORVDIWAP54lORPayi02mgXBmev+6vKkFuhtVtrBq9E3RsbXJLfJRQ5XhNlk2Xyvm9Uc+F55cv8pwqL9eP2mSYMKXOX3K6A19asq2nWBUX1a5OOEqGhp3+2e7dJCpbtIuGxerMtXAPebcD3eFgnA0Jh4FivoMeaclsI3f/8Mw3vEBtENQZBnEUv2AetedDTYDdGOOkP36XrTXOr0zA3IsElkwuc5e19Wo0UO2p29uxudoxJ5uM1eEaBtMeVxx6syB+0Leus0mhPt8giY35I4nwPmenAgyWL6O7l0lKnVOdGXwp8ND9i9dMaSNeT93hYHhNr5j8x6r2HYD3dPHxDw25htFCspH7V1fFx3H7bHJOM4LRVEQzpmOLqBaLY1fDE0O/J0dX9ml38/vQ9XNLetZTFWETSwbc5SsEhfna1yese+6cBO3f+jmwSr74LrQ62nuyrtPH3p8PbNsBEsQO9JwDefmMcNB2J3SKa1DScvJetojbyuZJzKmIUzeo3Ep8wTc1/Rf3Np34nc7rbsraU=
language: python
python:
- '3.7'
install:
- cp contrib/env-sample .env
- pip install -r requirements.txt
- pip install coverage
before_script:
- python manage.py migrate --noinput
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
script:
- coverage run manage.py test
after_script:
- coverage xml
- "./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT"
